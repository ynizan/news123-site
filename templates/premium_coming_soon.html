<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">

    <!-- Meta Tags -->
    <title>PermitIndex Pro Coming Soon - Join the Waitlist</title>
    <meta name="title" content="PermitIndex Pro Coming Soon">
    <meta name="description" content="Be the first to know when PermitIndex Pro launches. Get early access to premium features like email alerts, CSV exports, and historic data.">

    <!-- Privacy-friendly analytics by Plausible -->
    <script async src="https://plausible.io/js/pa-ag6g5Gg1btKfcdZ4oA-vo.js"></script>
    <script>
      window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
      plausible.init()
    </script>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- PermitIndex Brand Styles -->
    <style>
        :root {
            --primary: #003366;
            --accent: #FF6B35;
            --text: #1a1a1a;
            --text-light: #666666;
            --bg: #ffffff;
            --bg-light: #f8f9fa;
            --border: #e0e0e0;
            --success: #10b981;
        }

        body {
            background: var(--bg-light);
            color: var(--text);
        }

        h1, h2, h3 {
            font-family: 'Arial Black', 'Helvetica Bold', sans-serif;
            font-weight: 900;
            letter-spacing: -1px;
            color: var(--primary);
        }

        .feature-box {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .cta-button {
            display: inline-block;
            padding: 16px 32px;
            background: var(--accent);
            color: white;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s;
            cursor: pointer;
            border: none;
            font-size: 16px;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.2);
        }

        .cta-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 16px;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
        }
    </style>
</head>
<body>
    {% include 'components/header.html' %}

    <!-- Hero Section -->
    <section class="py-20" style="background: linear-gradient(135deg, var(--primary) 0%, #004d99 100%);">
        <div class="container mx-auto px-4 text-center max-w-3xl">
            <h1 class="text-5xl md:text-6xl font-bold mb-6" style="color: white;">PermitIndex Pro is Coming Soon</h1>
            <p class="text-xl md:text-2xl mb-8" style="color: rgba(255,255,255,0.9);">Be the first to know when we launch premium features that will transform how you track government permits</p>
        </div>
    </section>

    <!-- Main Content -->
    <section class="py-16">
        <div class="container mx-auto px-4 max-w-4xl">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
                <!-- Feature Preview: Pro Tier -->
                <div class="feature-box">
                    <svg class="w-12 h-12 mb-4 mx-auto" style="color: var(--accent);" fill="currentColor" viewBox="0 0 20 20" aria-label="Pro Tier">
                        <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"></path>
                    </svg>
                    <h3 class="text-2xl font-bold mb-3" style="color: var(--primary);">Pro Tier - $39/mo</h3>
                    <ul class="space-y-2 text-sm" style="color: var(--text-light);">
                        <li>✓ Up to 10 email alerts</li>
                        <li>✓ CSV data exports</li>
                        <li>✓ 2+ years historic data</li>
                        <li>✓ Priority support</li>
                    </ul>
                </div>

                <!-- Feature Preview: Business Tier -->
                <div class="feature-box">
                    <svg class="w-12 h-12 mb-4 mx-auto" style="color: var(--primary);" fill="currentColor" viewBox="0 0 20 20" aria-label="Business Tier">
                        <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd"></path>
                    </svg>
                    <h3 class="text-2xl font-bold mb-3" style="color: var(--primary);">Business Tier - $99/mo</h3>
                    <ul class="space-y-2 text-sm" style="color: var(--text-light);">
                        <li>✓ Unlimited alerts</li>
                        <li>✓ API access (1,000 req/day)</li>
                        <li>✓ Change webhooks</li>
                        <li>✓ Full documentation</li>
                    </ul>
                </div>
            </div>

            <!-- Waitlist Form -->
            <div class="feature-box max-w-2xl mx-auto">
                <h2 class="text-3xl font-bold mb-6 text-center" style="color: var(--primary);">Join the Waitlist</h2>
                <p class="text-center mb-8" style="color: var(--text-light);">Get notified when we launch and receive early access pricing</p>

                <form id="waitlistForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-semibold mb-2" style="color: var(--text);">Email Address *</label>
                        <input type="email" id="email" name="email" required placeholder="you@example.com">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2" style="color: var(--text);">Name (Optional)</label>
                        <input type="text" id="name" name="name" placeholder="John Doe">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2" style="color: var(--text);">Company (Optional)</label>
                        <input type="text" id="company" name="company" placeholder="Acme Corp">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2" style="color: var(--text);">Which plan interests you? *</label>
                        <select id="plan" name="plan" required>
                            <option value="">-- Select a plan --</option>
                            <option value="Pro">Pro ($39/mo)</option>
                            <option value="Business">Business ($99/mo)</option>
                            <option value="Enterprise">Enterprise (Custom)</option>
                        </select>
                    </div>

                    <button type="submit" id="submitBtn" class="cta-button w-full">
                        Join Waitlist
                    </button>

                    <div id="successMessage" class="hidden p-4 rounded-lg" style="background: rgba(16, 185, 129, 0.1); border: 2px solid var(--success);">
                        <p class="font-semibold" style="color: var(--success);">✅ Thank you for joining the waitlist!</p>
                        <p class="text-sm mt-2" style="color: var(--text-light);">We'll email you when PermitIndex Pro launches with early access pricing.</p>
                    </div>

                    <div id="errorMessage" class="hidden p-4 rounded-lg" style="background: rgba(239, 68, 68, 0.1); border: 2px solid #EF4444;">
                        <p class="font-semibold" style="color: #EF4444;">❌ Something went wrong</p>
                        <p class="text-sm mt-2" style="color: var(--text-light);" id="errorText">Please try again or contact us at <a href="mailto:sales@news123.info" style="color: var(--primary); text-decoration: underline;">sales@news123.info</a></p>
                    </div>
                </form>
            </div>

            <!-- Alternative: Email Us -->
            <div class="text-center mt-16">
                <p class="text-lg mb-4" style="color: var(--text-light);">Prefer to talk to us directly?</p>
                <a href="mailto:sales@news123.info?subject=Interested%20in%20PermitIndex%20Pro" class="cta-button" style="background: var(--primary);" onclick="trackEmailClick()">
                    Email Us at sales@news123.info
                </a>
            </div>
        </div>
    </section>

    {% include 'components/footer.html' %}

    <!-- Analytics and Form Handling -->
    <script>
        // Get URL parameters for pre-filling and tracking
        const urlParams = new URLSearchParams(window.location.search);
        const featureParam = urlParams.get('feature');
        const planParam = urlParams.get('plan');
        const permitParam = urlParams.get('permit');
        const emailParam = urlParams.get('email');

        // Pre-fill form if parameters exist
        if (emailParam) document.getElementById('email').value = emailParam;
        if (planParam) {
            const planSelect = document.getElementById('plan');
            const capitalizedPlan = planParam.charAt(0).toUpperCase() + planParam.slice(1).toLowerCase();
            planSelect.value = capitalizedPlan;
        }

        // Track page view with context
        if (typeof plausible !== 'undefined') {
            plausible('Coming Soon Page View', {
                props: {
                    referrer: document.referrer,
                    feature: featureParam || 'direct',
                    permit: permitParam || 'none'
                }
            });
        }

        // Handle form submission
        document.getElementById('waitlistForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const form = document.getElementById('waitlistForm');
            const submitBtn = document.getElementById('submitBtn');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');

            // Get form data
            const formData = new FormData(form);
            const plan = formData.get('plan');
            const company = formData.get('company');

            // Disable button
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';
            successMessage.classList.add('hidden');
            errorMessage.classList.add('hidden');

            try {
                // POST to Formspree
                const response = await fetch('https://formspree.io/f/xanvozek', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (!response.ok) {
                    throw new Error(`Formspree error: ${response.status}`);
                }

                // Track successful waitlist signup
                if (typeof plausible !== 'undefined') {
                    plausible('Waitlist Signup', {
                        props: {
                            plan: plan
                        }
                    });
                }

                // Show success message
                successMessage.classList.remove('hidden');
                form.reset();

            } catch (error) {
                console.error('Error submitting waitlist:', error);
                errorMessage.classList.remove('hidden');
            } finally {
                // Re-enable button
                submitBtn.disabled = false;
                submitBtn.textContent = 'Join Waitlist';
            }
        });

        // Track email button click
        function trackEmailClick() {
            if (typeof plausible !== 'undefined') {
                plausible('Sales Email Click', {
                    props: {
                        plan: planParam || 'unknown',
                        source: 'coming-soon-page'
                    }
                });
            }
        }
    </script>
</body>
</html>
